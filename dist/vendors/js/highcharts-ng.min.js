"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="highcharts-ng"),function(){"use strict";var s=null;function e(n,r){var t=!1,a=this,o={},c={},e=a.changeDetection||angular.equals;function i(){var e;o=angular.merge({},a.config),c=h(n,a.config,0),a.chart=new(s[(e=c,void 0===e||void 0===e.chartType?"Chart":d[(""+e.chartType).toLowerCase()])])(c),a.config.getChartObj=function(){return a.chart};var t=n[0].clientWidth,i=n[0].clientHeight;r(function(){0===n[0].clientWidth||0===n[0].clientHeight||n[0].clientWidth===t&&n[0].clientHeight===i||a.chart.reflow()},0,!1)}this.$onInit=function(){i(),t=!0},this.$onChanges=function(e){if(e.config&&void 0!==e.config.currentValue){if(!t)return;i()}},this.removeItems=function(e,t,i,n){if(e&&Array.isArray(e))for(var r=u(e,i),a=t.length-1;0<=a;a-=1){var o=t[a];n.indexOf(o.options.id)<0&&r.indexOf(o.options.id)<0&&o.remove(!0)}},this.removeUnlinkedObjects=function(e){this.removeItems(e.yAxis,a.chart.yAxis,0,"navigator-y-axis"),this.removeItems(e.xAxis,a.chart.xAxis,0,"navigator-x-axis"),this.removeItems(e.series,a.chart.series,0,"highcharts-navigator-series")},this.addAnyNewAxes=function(e,t,i){e&&Array.isArray(e)&&angular.forEach(e,function(e){t.get(e.id)||t.addAxis(e,i)})},this.$doCheck=function(){!0!==a.disableChangeDetection&&(e(a.config,o)||(o=angular.merge({},a.config),c=h(n,a.config,0),this.removeUnlinkedObjects(c),this.addAnyNewAxes(c.yAxis,a.chart,!1),this.addAnyNewAxes(c.xAxis,a.chart,!0),c.series&&angular.forEach(a.config.series,function(e){a.chart.get(e.id)||a.chart.addSeries(e)}),a.chart.update(c,!0)))},this.$onDestroy=function(){if(a.chart){try{a.chart.destroy()}catch(e){}r(function(){n.remove()},0)}}}function h(e,t,i){var n={},r={chart:{events:{}},title:{},subtitle:{},series:[],credits:{},plotOptions:{},navigator:{}};return t?(t.series&&u(t.series,i),n=angular.merge(r,t)):n=r,n.chart.renderTo=e[0],n}window&&window.Highcharts?s=window.Highcharts:"undefined"!=typeof module&&"undefined"!=typeof exports&&"highcharts-ng"===module.exports&&(s=require("highcharts")),angular.module("highcharts-ng",[]).component("highchart",{bindings:{config:"<",changeDetection:"<",disableChangeDetection:"<"},controller:e}),e.$inject=["$element","$timeout"];var d={stock:"StockChart",map:"Map",chart:"Chart"};function u(e,t){var i=[];return angular.forEach(e,function(e){angular.isDefined(e.id)||(t+=1,e.id="cc-"+t),i.push(e.id)}),i}}();
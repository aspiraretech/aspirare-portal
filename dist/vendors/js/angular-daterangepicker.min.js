(function(){var e;(e=angular.module("daterangepicker",[])).constant("dateRangePickerConfig",{cancelOnOutsideClick:!0,locale:{separator:" - ",format:"YYYY-MM-DD",clearLabel:"Clear"}}),e.directive("dateRangePicker",["$compile","$timeout","$parse","dateRangePickerConfig",function(e,k,t,v){return{require:"ngModel",restrict:"A",scope:{min:"=",max:"=",picker:"=?",model:"=ngModel",opts:"=options",clearable:"="},link:function(l,e,i,o){var t,a,n,r,u,c,s,d,p,m,f,D,g;return r=function(){var e,t;return t=angular.extend.apply(angular,Array.prototype.slice.call(arguments).map(function(e){return null!=e?e.locale:void 0}).filter(function(e){return!!e})),(e=angular.extend.apply(angular,arguments)).locale=t,e},(f=$(e)).attr("ng-trim","false"),i.ngTrim="false",!1,function(){var e,t;if(o.$options&&"function"==typeof o.$options.getOption?(t=o.$options.getOption("updateOn"),!!o.$options.getOption("allowInvalid")):(t=o.$options&&o.$options.updateOn||"",!(!o.$options||!o.$options.allowInvalid)),!t.includes("change"))return"function"==typeof o.$overrideModelOptions?(t+=" change",o.$overrideModelOptions({"*":"$inherit",updateOn:t})):((t+=" change").replace(/default/g," "),(e=angular.copy(o.$options)||{}).updateOn=t,e.updateOnDefault=!1,o.$options=e)}(),m=l.opts,g=r({},angular.copy(v),m),u=null,t=function(){if(u)return u.setStartDate(),u.setEndDate()},d=(c=function(t){return function(e){if(e&&(!moment.isMoment(e)||e.isValid()))return e=moment(e),u?t(e):void 0}})(function(e){return e&&u.endDate<e&&u.setEndDate(e),u.setStartDate(e),g.startDate=u.startDate}),s=c(function(e){return e&&u.startDate>e?(u.setEndDate(u.startDate),g.endDate=u.endDate,u.setStartDate(e),g.startDate=u.startDate):(u.setEndDate(e),g.endDate=u.endDate)}),D=function(e){var t;return t=function(e){return moment.isMoment(e)?e.format(g.locale.format):moment(e).format(g.locale.format)},g.singleDatePicker&&e?t(e):e&&(e.startDate||e.endDate)?[t(e.startDate),t(e.endDate)].join(g.locale.separator):""},o.$formatters.push(function(e){return D(e)}),o.$renderOriginal=o.$render,o.$render=function(){if(o.$modelValue&&g.singleDatePicker?(d(o.$modelValue),s(o.$modelValue)):o.$modelValue&&(o.$modelValue.startDate||o.$modelValue.endDate)?(d(o.$modelValue.startDate),s(o.$modelValue.endDate)):t(),o.$valid)return o.$renderOriginal()},o.$parsers.push(function(e){var t,a,n;return t=function(e){var t;return(t=moment(e,g.locale.format)).isValid()&&t||null},a=g.singleDatePicker?null:{startDate:null,endDate:null},angular.isString(e)&&0<e.length&&(g.singleDatePicker?a=t(e):(n=e.split(g.locale.separator).map(t),a.startDate=n[0]?n[0].startOf("day"):null,a.endDate=n[1]?n[1].endOf("day"):null)),a}),o.$isEmpty=function(e){return!(angular.isString(e)&&0<e.length)},a=function(){var e;for(e in f.daterangepicker(angular.extend(g,{autoUpdateInput:!1}),function(e,t,a){return l.$apply(function(){if("function"==typeof g.changeCallback)return g.changeCallback.apply(this,arguments)})}),u=f.data("daterangepicker"),(l.picker=u).container.hide(),u.container.addClass((g.pickerClasses||"")+" "+(i.pickerClasses||"")),f.on("show.daterangepicker",function(e,t){return f.addClass("picker-open"),l.$apply(function(){g.singleDatePicker?t.startDate.isSame(l.model)||(d(l.model),s(l.model)):(l.model&&!t.startDate.isSame(l.model.startDate)&&d(l.model.startDate),l.model&&!t.endDate.isSame(l.model.endDate)&&s(l.model.endDate)),t.updateView()})}),f.on("hide.daterangepicker",function(e,t){return f.removeClass("picker-open")}),f.on("apply.daterangepicker",function(e,t){return l.$apply(function(){g.singleDatePicker?t.startDate?t.startDate.isSame(l.model)||(l.model=t.startDate):l.model=null:t.startDate.isSame(t.oldStartDate)&&t.endDate.isSame(t.oldEndDate)&&l.model&&t.startDate.isSame(l.model.startDate)&&t.endDate.isSame(l.model.endDate)||(l.model={startDate:t.startDate,endDate:t.endDate,label:t.chosenLabel})})}),f.on("outsideClick.daterangepicker",function(e,t){return g.cancelOnOutsideClick?l.$apply(function(){return t.cancelingClick=!0,t.clickCancel()}):t.clickApply()}),g.eventHandlers)f.on(e,function(e,t){var a;return a=e.type+"."+e.namespace,l.$evalAsync(g.eventHandlers[a])});if(o.$validate(),!l.model)return f.trigger("change")},l.$watch(function(){return D(l.model)},function(e){return"function"==typeof o.$processModelValue?o.$processModelValue():("function"==typeof o.$$updateEmptyClasses&&o.$$updateEmptyClasses(e),o.$viewValue=o.$$lastCommittedViewValue=e),o.$render()}),o.$validators.invalid=function(e,t){var a,n;return a=i.required&&!o.$isEmpty(t),n=g.singleDatePicker?e&&e.isValid():e&&e.startDate&&e.startDate.isValid()&&e.endDate&&e.endDate.isValid(),!a||!!n},(n=function(t,a,n,r){if(o.$validators[t]=function(e){return!g[r]||(g.singleDatePicker?"min"===t?!e||a(e,g.minDate,e):"max"===t?!e||a(e,e,g.maxDate):void 0:e&&a(e[n],g.minDate,g.maxDate))},i[t])return l.$watch(t,function(e){if(g[r]=!!e&&moment(e),u)return u[r]=g[r],k(function(){return o.$validate()})})})("min",p=function(e,t,a){var n;return!e||!t&&!a||(e=(n=[e,t,a].map(function(e){return e?moment(e):e}))[0],t=n[1],a=n[2],(!t||t.isBefore(e)||t.isSame(e,"day"))&&(!a||a.isSame(e,"day")||a.isAfter(e)))},"startDate","minDate"),n("max",p,"endDate","maxDate"),l.$watch("opts",function(e){return null==e&&(e={}),g=r(g,e),a()},!0),i.clearable&&l.$watch("clearable",function(e){if(e&&(g=r(g,{locale:{cancelLabel:g.locale.clearLabel}})),a(),e)return f.on("cancel.daterangepicker",function(e,t){return t.cancelingClick||(l.model=g.singleDatePicker?null:{startDate:null,endDate:null},f.val("")),t.cancelingClick=null,k(function(){return l.$apply()})})}),l.$on("$destroy",function(){return null!=u?u.remove():void 0})}}}])}).call(this);